<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>In order to make their newest microcontroller as cheap as possible, the ACME
Widget Company designed it with a very simple cache. The processor is
connected to a slow memory system that contains <b>n</b> bytes, numbered
0 to <b>n</b> - 1. The cache holds a copy of <b>k</b> of these bytes at a time, for fast access. It has a <i>base address</i> (referred to as <i>base</i> below), and it holds a copy of the bytes numbered <i>base</i>, <i>base</i>+1, ..., <i>base</i>+<b>k</b>-1. When a program
reads a byte, the cache controller executes the following algorithm:</p>
<ol>
<li>Find a new range of <b>k</b> bytes which contains the requested byte, such that the difference between the old and new base addresses is minimized. Note that if the
requested byte was already in the cache, then the base address will not change.</li>
<li>Update the cache to the new range by reading from the memory system any
bytes that are in the new range but not the old range, and discarding any
bytes that were in the old range but not the new range.</li>
<li>Return the requested byte to the program.</li>
</ol>

<p>To analyze the performance of a program, you wish to know how many bytes
are read from the memory system. The numbers of the bytes that the program
reads are given in <b>addresses</b>, in the order that they are read. When the
program starts, the base address is 0.</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>ContiguousCacheEasy</td></tr><tr><td>Method:</td><td>bytesRead</td></tr><tr><td>Parameters:</td><td>int, int, vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int bytesRead(int n, int k, vector &lt;int&gt; addresses)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>n</b> will be between 1 and 1,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>k</b> will be between 1 and <b>n</b>, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>addresses</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>addresses</b> will be between 0 and <b>n</b>-1, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>100</pre></td></tr><tr><td><pre>5</pre></td></tr><tr><td><pre>{6, 0, 3, 20, 22, 16}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 13</pre></td></tr><tr><td><table><tr><td colspan="2">When the program starts, the cache holds 0-4 (all ranges are inclusive). Accessing 6 updates the range to hold 2-6, reading two bytes. Accessing 0 resets the range to 0-4, reading another two bytes. Accessing 3 has no effect, since it is already cached. Accessing 20 and then 22 causes another seven bytes to be read, and the cache to hold 18-22. Finally, accessing 16 updates the cache to hold 16-20 (the closest range to 18-22 containing 16), for another two bytes.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>100</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>{0, 4, 6, 6, 4, 10}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2">When the cache only holds one byte, every access causes a read, except where the cache already held the correct byte.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1000</pre></td></tr><tr><td><pre>999</pre></td></tr><tr><td><pre>{0, 4, 123, 987, 999, 500, 0}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">In this case, all but one byte is cached.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
